<!DOCTYPE html>
<html lang="ja">
    <head prefix="og: http://ogp.me/ns# website: http://ogp.me/ns/website#">
        <meta charset="UTF-8">
        <!--文字コードは上のほうにないとすべておしまいになるらしい-->
        <meta name="description" content="技術的なテストをしている">
        <title>JUN汁ｗおもちゃばこ。/TEST</title>
        <!--OGPとかいうの-->
        <meta property="og:site_name" content="JUN汁ｗおもちゃばこ。/TEST">
        <meta property="og:title" content="テスト用ページ"/>
        <meta property="og:type" content="website"/> <!--websiteはトップページだってさ-->
        <meta property="og:url" content="https://junjiruw.github.io/DEYUTI/test/gomibako_for_test"/>
        <meta property="og:image" content="https://github.com/junjiruw/DEYUTI/blob/master/images/site/junjiruw_bako.png?raw=true"/>
        <meta name="twitter:card" content="summary"><!--なにを表示するか-->
        <meta name="twitter:site" content="@junjiruw"><!--フッターに表示されるらしい…どこ？-->
        <link rel="stylesheet" href="../css/style.css">
        
        <link rel="icon" href="../images/site/favicon32.png">
        <style>
            body {
                background-image:url("../images/site/junjiruw_pro.png"),
                url("../images/site/junjiruw_pro_rev.png"),
                linear-gradient(#053a24,80%,#000000);
                
                background-size:10% 120%,10% 120%,auto;
                background-position: -2% 70%, 102% 0%;/*0%で画像の左が画面端。100%で右が画面端*/
                background-repeat:no-repeat,no-repeat,repeat;
                background-attachment: fixed,fixed,fixed;
                image-rendering: pixelated;/*ドット絵を拡大したいなら使え*/
            }
            div#mannaka{
                border-image: linear-gradient(rgba(255,255,255,1), rgba(0,30,100,1));/*透明は黒になるっぽいね*/
                border-image-slice: 1;
                background:linear-gradient(rgba(22,21,26,1), rgba(22,21,26,0.6));
            }
            footer{
                background:linear-gradient(rgba(4,29,66,0.6), rgba(4,29,66,0));
            }
            div#parent_div{
                text-align: center;
                margin: 10px;
            }
            div#table{
                display: table;
                padding: 1px;
                background:#0f4936;
            }
            div#table p{
                display: table-row;
                background:#0f4936;
                padding: 1px;
            }
            div#table img{
                margin: 1px;
                display: table-cell;
                display: inline;
            }
            canvas{
                background: #ffffff;
            }
        </style>
        <script>
            
            onload = function(){kihon();};//ロード時に
            function kihon() {
                var cnvs = document.getElementById('cnvs');//IDを指定して変数にぶち込む
                var cnvs2d = cnvs.getContext('2d');//2Dでやる
                cnvs2d.strokeStyle="#FF0000";
                cnvs2d.strokeRect(10,10,100,100);//JSはまたの機会に勉強すべきだなと思うでゆっちであった。

                if (navigator.userAgent.match(/iPhone|Android.+Mobile/)) {//ロード時にスマホ判定
                    var p = document.getElementById('mannaka').style.fontSize="3.5vw";//100vwが画面横幅
                }

                fetch("https://junjiruw.github.io/DEYUTI/test/gomibako_for_test.html")
                .then(res =>{
                    return res.text();
                }).then(res=>{//<meta property="og:title" content="ページタイトル"/>って感じに描いてあるはず
                    title_start=res.indexOf('<meta property="og:title" content="')+34;//<の位置+34が得られる
                    title_end=res.indexOf('"',title_start+1);
                    console.log(title_end-title_start);
                    document.getElementById("hoge").textContent=res.substr(title_start+1,title_end-title_start-1);
                });

                fetch("https://api.github.com/repos/junjiruw/DEYUTI/contents/omocha")//おもちゃ階層のページをgithubから持ってくる
                .then(res =>{
                    return res.json();
                }).then(res =>{
                    for(let i=0;i<res.length;i++){
                        console.log(res[i].path);
                        fetch("https://junjiruw.github.io/DEYUTI/"+res[i].path)
                        .then(res2 =>{
                            return res2.text();
                        }).then(res2=>{//<meta property="og:title" content="ページタイトル"/>って感じに描いてあるはず
                            title_start=res2.indexOf('<meta property="og:title" content="')+34;//<の位置+34が得られる
                            title_end=res2.indexOf('"',title_start+1);
                            document.getElementById("hoge").textContent=document.getElementById("hoge").textContent+res2.substr(title_start+1,title_end-title_start-1);
                        });
                    }
                });
            }

            

        </script>
    </head>
    <body>
        <div id="top"></div>
        <header>
            <h1>
                <a href="../index.html">
                    <img id="junjiruw" src="../images/site/omotyabako_deka.png" alt="トップページへ" height="48">
                </a>
                JUN汁ｗおもちゃばこ。
            </h1>
        </header>
        <div id="mannaka">
            このページはテスト用です。
            
            <div id="table">
                <p>
                    <img src="../images/site/favicon32.png">
                    <img src="../images/site/favicon32.png">
                    <img src="../images/site/favicon32.png">
                    俺たち
                </p>
                <p>
                    <img src="../images/site/favicon32.png">
                    <img src="../images/site/favicon32.png">
                    <img src="../images/site/favicon32.png">
                    でゆっち６兄弟
                    <img src="../images/site/junjiruw_pro.png" height="32px">
                </p>
            </div>
            Canvasは特になにも実装されてないのです
            <div id="parent_div">
                <canvas id="cnvs">
                </canvas>
            </div>

            <div id="hoge">@</div>

            <footer>
                <ul id="footul">
                    <li id="twitter">
                        <a  href="https://twitter.com/share" class="twitter-share-button">
                        </a> <!--本文はtitleになるらしい-->
                        <script>
                            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
                        </script>
                    </li>
                    <li>
                        <a href="#top" id="totop"> 
                            ページ上部に移動
                        </a>
                    </li>
                </ul>
            </footer>
        </div>
    </body>
</html>
