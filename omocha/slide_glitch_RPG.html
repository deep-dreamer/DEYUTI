<!DOCTYPE html>
<html lang="ja">
    <head prefix="og: http://ogp.me/ns# website: http://ogp.me/ns/website#">
        <meta charset="UTF-8">
        <!--文字コードは上のほうにないとすべておしまいになるらしい-->
        <meta name="description" content="バグゲーを作ろうと思った">                                                                 <!--入力すること！-->
        <title>JUN汁ｗおもちゃばこ。/おもちゃ/すらいどぐりっちしゅうくんRPG</title>                                                         <!--入力すること！-->
        <!--OGPとかいうの-->
        <meta property="og:site_name" content="JUN汁ｗおもちゃばこ。/omocha/slide_glitch_RPG">                                <!--入力すること！-->
        <meta property="og:title" content="すらいどぐりっちしゅうくんRPG"/>                                                               <!--入力すること！-->
        <meta property="og:type" content="website"/> <!--websiteはトップページだってさ-->
        <meta property="og:url" content="https://junjiruw.github.io/DEYUTI/omocha/slide_glitch_RPG.html"/>                   <!--入力すること！-->
        <meta property="og:image" content="https://github.com/junjiruw/DEYUTI/blob/master/images/site/junjiruw_bako.png?raw=true"/>
        <meta name="twitter:card" content="summary"><!--なにを表示するか-->
        <meta name="twitter:site" content="@junjiruw"><!--フッターに表示されるらしい…どこ？-->
        
        <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><!--ボタン連打してると拡大されることがあるからもう無効で。-->
        
        
        <link rel="stylesheet" href="../css/style.css">
        <link rel="icon" href="../images/site/favicon32.png">
        <style>
            @font-face {
                font-family: "misaki_gothic";
                src: url("../font/misaki_gothic_2nd.ttf") format('truetype');
            }
            html{
                font-family: "misaki_gothic";
            }
            header{
                position: static;/*ついてくるな*/
                top: 0px;
                margin: 10px;
            }
            div#parent_div{
                text-align: center;
                margin: 10px;
            }
            canvas{
                background: #ffffff;
                height: 70vh;/*これ、PCブラウザで横に狭くしたら崩壊せえへん？→勝手に崩壊してろ*/
                image-rendering: pixelated;/*ドット絵を拡大したいなら使え*/
                -webkit-font-smoothing: never;
            }
            div#buttons{
                display: flex;
            }
            input.key_button{
                width: 1.5em;
                height: 1.5em;
                font-size: 2em;
                font-family: "misaki_gothic";
                margin: 0.25em;
                margin-left: 1em;
            }
            input.key_button:active{
                background-color: #656965;
                color: #FFFFFF;
            }
            div#button_left{
                text-align: left;
                width: 50%;
            }
            div#button_left div{
                text-align: center;
            }
            div#button_right{
                text-align: center;
                width: 50%;
            }
        </style>
        <script src="../js/public.js"></script>
        <script>
            var ctx; 
            //画像
            var syuukun_0;
            var syuukun_1;
            var pon_0;
            var pon_1;
            var map;
            var kanbansan_1;
            var zakozakosan_0;
            var zakozakosan_1;
            var DEATH;
            var damage;
            //座標
            var deyu_x;
            var deyu_y;
            var pon_x ;
            var pon_y ;
            var world_x;
            var world_y;
            var kanbansan_1_x;
            var kanbansan_1_y;
            var zakozakosan_x;
            var zakozakosan_y;
            function set_iti(){//ゲームオーバーで初期位置にずらしたいので初期化を関数にしておきます。
                deyu_x=5;//周囲に壁を置くのでずらします。 しゅうくんの座標なのにでゆって変数名で草。おもしろいのでこのままでいいか
                deyu_y=5;
                pon_x =5+3*32+0*170;
                pon_y =5+2*32+0*170;
                world_x=0*170;
                world_y=0*170;
                kanbansan_1_x=5+1*32+0*170;
                kanbansan_1_y=5+1*32+0*170;
                zakozakosan_x=5+2*32+0*170;
                zakozakosan_y=5+2*32+1*170;
            }
            set_iti();
            //キーボードなど、システムの、あの、アレ、アレさ！
            var key_input="";
            var what_input="";//キーボード同時おしに使う
            var key_interval=0;//n*10[s]　長押しの連続入力に使ってる
            var key_owarasete=0;
            var loop_count=-1;//あれです、1秒で100数えます。
            var GAMEOVER=0;//死にやがった！
            //しゅうくんのステータスだよ！
            var HP_MAX=10;
            var HP=10;
            var Attack=1;
            var EXP=0;
            var Level=1;
            var damaging=0;
            //一番大事なところだッピ！
            var serihu=[];
             //serihu[serihu.length]={text:"スライドグリッチという、話してても戦ってても動けるバグがあるみたいです。",hyouji_i:0,OK:0};
            var battle=[];//画像2枚,最大HP,現在HP,攻撃,位置x,表示,カーソル位置,経験値,ダメージ描写
            // battle[battle.length]={image:[zakozakosan_0,zakozakosan_1],HP_MAX:3,HP:3,Attack:1,x:Math.floor(Math.random()*(115)+12),hyouji:0,cursor:0,EXP:1,damaging:0};

            onload = function(){
                onload_functions();
                const cnvs = document.getElementById('cnvs');//IDを指定して変数にぶち込む
                
                if (navigator.userAgent.match(/iPhone|Android.+Mobile/)) {//貴様！スマホで見ているな！？
                    cnvs.style.width=90+"%";
                    cnvs.style.height=cnvs.clientWidth+"px";
                }

                ctx = cnvs.getContext("2d");
                ctx.font = "10px 'ＭＳ Ｐゴシック'";//font size
                // 画像読み込み
                var image_url="../images/omocha/slide_glitch_RPG/";
                syuukun_0= new Image();
                syuukun_0.src = image_url+"syuukun32_0.png";  // 画像のURLを指定
                syuukun_1= new Image();
                syuukun_1.src = image_url+"syuukun32_1.png";  // 画像のURLを指定
                map = new Image
                map.src=image_url+"32map.png"
                pon_0 = new Image();
                pon_1 = new Image();
                pon_0.src = image_url+"mikupon32_0.png";
                pon_1.src = image_url+"mikupon32_1.png";
                kanbansan_1 = new Image();
                kanbansan_1.src=image_url+"kanbansan.png";
                zakozakosan_0 =new Image();
                zakozakosan_0.src = image_url+"zakozakosan32_0.png";
                zakozakosan_1 =new Image();
                zakozakosan_1.src = image_url+"zakozakosan32_1.png";
                DEATH=new Image();
                DEATH.src= image_url+"DEATH_32.png";
                damage=new Image();
                damage.src=image_url+"damage32.png";

                var buttons = document.getElementsByClassName("key_button");//ボタン操作
                if( window.ontouchstart === null ){ // 注：ontouchstartが存在しない時は undefined が返る
                    //ようするにタッチ機能がある端末なら
                    for(let i=0;i<buttons.length;i++){
                        buttons[i].addEventListener("touchstart",function(e){//押すと動く
                            e.preventDefault();//ボタンをもとの状態に戻してください（血涙）
                            key_input=this.value;
                            key_interval=-1;//初回限定モード（1回は動作させたいので。）
                            key_owarasete=0;
                        });
                        buttons[i].addEventListener("touchend",function(e){//離すと動く
                            e.preventDefault();//ボタンをもとの状態に戻してください（血涙）
                            if(key_interval!=-1){//一回も実行されてないのに終了するのはボタンとしておかしいので、はじく
                                key_input="";
                                key_interval=0;//長押しの連続入力に使ってるだけなので長押しが終わったら初期化するんよ
                            }else{
                                key_owarasete=1;//一度も実行されてないけど、ボタンはもう押してないのよ。
                            }
                        });
                    }
                }else{
                    //一般的なPCなら
                    for(let i=0;i<buttons.length;i++){
                        buttons[i].addEventListener("mousedown",function(){//押すと動く
                            key_input=this.value;
                            key_interval=-1;//初回限定モード（1回は動作させたいので。）
                            key_owarasete=0;
                        });
                        buttons[i].addEventListener("mouseup",function(){//離すと動く
                            if(key_interval!=-1){//一回も実行されてないのに終了するのはボタンとしておかしいので、はじく
                                key_input="";
                                key_interval=0;//長押しの連続入力に使ってるだけなので長押しが終わったら初期化するんよ
                            }else{
                                key_owarasete=1;//一度も実行されてないけど、ボタンはもう押してないのよ。
                            }
                        });

                    }
                }
                
                document.addEventListener('keydown', function(key){//キーボード操作

                    what_input="";
                    if(key.key=="w" || key.key=="ArrowUp"){
                        what_input="↑";
                    }else if(key.key=="a" || key.key=="ArrowLeft"){
                        what_input="←";
                    }else if(key.key=="d" || key.key=="ArrowRight"){
                        what_input="→";
                    }else if(key.key=="s" || key.key=="ArrowDown"){
                        what_input="↓";
                    }else if(key.key=="Enter"){//AがAで入力できない！？←だってWASDに使ってるんだもん…
                        what_input="〇";
                    }else if(key.key=="Shift"){
                        what_input="×";
                    }
                    if(key_input.indexOf(what_input)==-1){//すでに押されていたら、文字列検索でひっかかる。ひっかからないなら-1が帰ってくる
                        key_input=key_input+what_input;//キーボードは同時押しが可能なので書き換えではなく、追加にします。え？キーボードとボタン同時押しされたら？バ～カ
                    }
                    
                });
                document.addEventListener('keyup', function(key){//キーボード操作
                    what_input="";
                    if(key.key=="w" || key.key=="ArrowUp"){
                        what_input="↑";
                    }else if(key.key=="a" || key.key=="ArrowLeft"){
                        what_input="←";
                    }else if(key.key=="d" || key.key=="ArrowRight"){
                        what_input="→";
                    }else if(key.key=="s" || key.key=="ArrowDown"){
                        what_input="↓";
                    }else if(key.key=="Enter"){//AがAで入力できない！？←だってWASDに使ってるんだもん…
                        what_input="〇";
                    }else if(key.key=="Shift"){
                        what_input="×";
                    }
                    
                    key_input=key_input.slice(0,key_input.indexOf(what_input))+key_input.slice(key_input.indexOf(what_input)+1);//該当文字を消去
                    if(key_input==""){
                        key_interval=0;//長押しの連続入力に使ってるだけなので長押しが終わったら初期化するんよ
                    }
                });
                setInterval(function(){//1秒に100回動くぞ！
                    loop_count=loop_count+1;
                    if(loop_count>99){loop_count=0;}//0-99

                    ctx.drawImage(map,-world_x,-world_y);//世界表示

                    //しゅうくん移動。壁は世界の色を参照するため、先に世界を表示しときます。
                    if(key_interval<=0 && key_input!=""){//キーが長押しされている場合はkey_intervalが0になってて、キー操作が飛んできたら
                        key_interval=10;//100/1000[s]の間、長押しでの連続入力を無効。
                        for(let i=0;i<key_input.length;i++){
                            if(key_input.charAt(i)=="↑"){
                                idou(0,-32);
                            }else if(key_input.charAt(i)=="←"){
                                idou(-32,0);
                            }else if(key_input.charAt(i)=="→"){
                                idou(32,0);
                            }else if(key_input.charAt(i)=="↓"){
                                idou(0,32);
                            }else if(key_input.charAt(i)=="〇"){
                                var serihu_sakujo_yotei=[];
                                for(let i=0;i<serihu.length;i++){//文章送り
                                    serihu[i].OK=serihu[i].OK+1;
                                    if((serihu[i].OK)*28>=serihu[i].hyouji_i){//OKしてももう文章ないよ
                                        serihu_sakujo_yotei[serihu_sakujo_yotei.length]=i;//消すね
                                    }
                                }
                                for(let i=0;i<serihu_sakujo_yotei.length;i++){
                                    serihu.splice(serihu_sakujo_yotei[serihu_sakujo_yotei.length-i-1],1);//読み終わったセリフを後ろから除去していくね
                                }

                                if(GAMEOVER==0){//ゲームオーバーなのに戦闘するな
                                    for(let i=0;i<battle.length;i++){//自分のターン
                                        if(battle[i].hyouji<2){//死体蹴り禁止機能
                                            if(battle[i].cursor==0){
                                                battle[i].HP=battle[i].HP-Attack;//攻撃！
                                                battle[i].damaging=1;
                                            }else{
                                                HP=HP+Math.floor(HP_MAX/3);//回復！
                                                if(HP>HP_MAX){
                                                    HP=HP_MAX;//しすぎ！
                                                }
                                            }
                                        }
                                    }
                                    for(let i=0;i<battle.length;i++){//相手のターン
                                        if(battle[i].hyouji<2){//死体を動かさない
                                            if(battle[i].HP<=0){
                                                battle[i].hyouji=3;//死んでた
                                                battle[i].HP=0;
                                                EXP=EXP+battle[i].EXP;//経験値プレゼント！よろこべ
                                                
                                                Level=Math.floor(EXP/10)+1;//クソ雑なレベルアップに喜べ！
                                                Attack=Level;
                                                HP_MAX=10+Level*3;
                                            }else{
                                                HP=HP-battle[i].Attack;//生きてる！痛い！
                                                damaging=1;
                                            }
                                        }
                                    }
                                    if(HP<=0){//死んでしまうとは何事だ！
                                        HP=0;
                                        GAMEOVER=1;
                                    }
                                }
                                
                            }else if(key_input.charAt(i)=="×"){
                                
                            }
                        }
                        if(key_owarasete==1){//もうボタン押してない。押してないときはイベントくんで検知するんだけど、実行よりも先にイベントが呼ばれてたらしかたないのでこいつで止める
                            key_input="";
                            key_interval=0;
                        }
                    }else if(key_interval>0){
                        key_interval=key_interval-1;//カウントダウン
                    }
                    

                    

                    //キャラ表示
                    ctx.drawImage(kanbansan_1,kanbansan_1_x,kanbansan_1_y);

                    var tekuteku;//しゅうくんを歩かせるのに使うよ！
                    if(Math.floor(loop_count/50)==0){//しゅうくん以外が歩くよ
                        if(serihu.length==0 && battle.length==0){//ウィンドウが出てるときはしゅうくんがslide_glitch状態にから歩きを停止する
                            tekuteku=0;
                        }
                        
                        ctx.drawImage(pon_0,pon_x,pon_y);
                        ctx.drawImage(zakozakosan_0,zakozakosan_x,zakozakosan_y);

                    }else{
                        if(serihu.length==0 &&  battle.length==0){//ウィンドウが出てるときはしゅうくんがslide_glitch状態にから歩きを停止する
                            tekuteku=1;
                        }
                        ctx.drawImage(pon_1,pon_x,pon_y);
                        ctx.drawImage(zakozakosan_1,zakozakosan_x,zakozakosan_y);
                    }
                    
                    if(tekuteku==0){//しゅうくんがあるくよ！ 
                        ctx.drawImage(syuukun_0,deyu_x,deyu_y);
                    }else{
                        ctx.drawImage(syuukun_1,deyu_x,deyu_y);
                    }

                    if(loop_count==0 ||loop_count ==50){
                        for(let i=0;i<battle.length;i++){//バトルウィンドウの敵を歩かせたい
                            if(battle[i].hyouji==0){
                                battle[i].hyouji=1;
                            }else if(battle[i].hyouji==1){
                                battle[i].hyouji=0;
                            }
                            
                        }
                    }

                    if(damaging>0){
                        ctx.drawImage(damage,deyu_x,deyu_y);
                        damaging=damaging+1;
                        if(damaging==10){
                            damaging=0;
                        }
                    }

                    //ウィンドウ表示
                    for(let i=0;i<serihu.length;i++){
                        serihu_window();
                        serihu_dadada(serihu[i]);
                    }
                    for(let i=0;i<battle.length;i++){
                        battle_window();
                        battle_show(battle[i]);

                        var teki_sakujo_yotei=[];
                        for(let i=0;i<battle.length;i++){//死亡判定
                            if(battle[i].hyouji==100){//死亡演出終わった？
                                teki_sakujo_yotei[teki_sakujo_yotei.length]=i;//消すね
                            }
                        }
                        for(let i=0;i<teki_sakujo_yotei.length;i++){
                            battle.splice(teki_sakujo_yotei[teki_sakujo_yotei.length-i-1],1);//死亡した敵を後ろから除去していくね
                        }
                    }
                        
                    if(GAMEOVER>0 && GAMEOVER<100){
                        GAMEOVER=GAMEOVER+1;
                        ctx.fillStyle="rgb(255,0,0,0.5)";
                        ctx.fillRect(0,0,170,170);
                        ctx.font = "20px 'ＭＳ Ｐゴシック'";//font size
                        ctx.fillStyle="#FFFFFF";
                        ctx.fillText("GAMEOVER", 35, 120);
                        ctx.font = "10px 'ＭＳ Ｐゴシック'";//font size
                        
                    }else if(GAMEOVER>=100){
                        HP=HP_MAX;
                        GAMEOVER=0;
                        battle=[];
                        set_iti();
                    }
                    
                    //しゅうくんステータス
                    ctx.fillStyle="rgb(255,255,255)";
                    ctx.fillRect(135,1,34,7);
                    ctx.fillRect(118,0,16,9);
                    ctx.fillRect(0,0,26,9);
                    ctx.fillStyle="rgb(255,0,0)";
                    ctx.fillRect(136,2,32,5);
                    ctx.fillStyle="rgb(0,255,0)";
                    ctx.fillRect(136,2,Math.floor(32*HP/HP_MAX),5);
                    ctx.fillText("HP", 136-16, 8);
                    ctx.fillStyle="rgb(0,0,0)";
                    ctx.fillText("Lv: "+Level, 1, 8);
                    

                }, 10);//10/1000[s]でくりかえすぞ！
            }//ー－－－－－－－－－－－－－－－－－－－－－－－－－－－－－ここまでonloadー－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－

            

            function idou(dx,dy){
                if(dy!=0){
                    for(let i=0;i<battle.length;i++){//戦闘コマンド選択
                        if(battle[i].cursor==0){
                            battle[i].cursor=1;
                        }else if(battle[i].cursor==1){
                            battle[i].cursor=0;
                        }  
                    }
                }
                

                //移動可能かを調べる
                var idou_iro;
                if(dx>0){
                    idou_iro=ctx.getImageData(deyu_x+dx,deyu_y,1,1);//移動先の画像を1ピクセル取得
                }else{
                    idou_iro=ctx.getImageData(deyu_x-1,deyu_y,1,1);//移動先の画像を1ピクセル取得
                }
                dx=dx*idou_OK(idou_iro.data);//移動不可なら0にする
                if(dy>0){
                    idou_iro=ctx.getImageData(deyu_x,deyu_y+dy,1,1);//移動先の画像を1ピクセル取得
                }else{
                    idou_iro=ctx.getImageData(deyu_x,deyu_y-1,1,1);//移動先の画像を1ピクセル取得
                }
                dy=dy*idou_OK(idou_iro.data);//移動不可なら0にする
                
                
                deyu_x=deyu_x+dx;
                deyu_y=deyu_y+dy;

                var world_dx=0;
                var world_dy=0;
                if(deyu_x>=165){//右端 5 6 7 8 9
                    deyu_x=5;
                    world_dx=170;

                }else if(deyu_x<=4){//左端 0 1 2 3 4
                    deyu_x=133;
                    world_dx=-170;
                }
                if(deyu_y>=165){//下端 5 6 7 8 9
                    deyu_y=5;
                    world_dy=170;
                }else if(deyu_y<=4){//上端 0 1 2 3 4
                    deyu_y=133;
                    world_dy=-170;
                }
                if(world_dx!=0 || world_dy!=0){
                    world_x=world_x+world_dx;
                    world_y=world_y+world_dy;
                    pon_x=pon_x-world_dx;
                    pon_y=pon_y-world_dy;
                    kanbansan_1_x=kanbansan_1_x-world_dx;
                    kanbansan_1_y=kanbansan_1_y-world_dy;
                    zakozakosan_x=zakozakosan_x-world_dx;
                    zakozakosan_y=zakozakosan_y-world_dy;
                }
                
                serihu_tuika();
                teki_tuika();

            }

            function idou_OK(iro_data){
                if(iro_data[0]==78 && iro_data[1]==168 && iro_data[2]== 0){//濃い緑
                    return 0;
                }else{
                    return 1;
                }
            }
            
            function serihu_window(){
                ctx.fillStyle="rgb(200,0,255,0.1)";
                ctx.fillRect(10,124,150,36);
                ctx.fillStyle="#FFFFFF";
                ctx.fillRect(11,125,1,34);
                ctx.fillRect(158,125,1,34);
                ctx.fillRect(11,125,148,1);
                ctx.fillRect(11,158,148,1);
            }
            function serihu_dadada(serihu){
                for(let i=0;i<2;i++){//何回か書いて濃くします…
                    if(serihu.hyouji_i<14+28*serihu.OK){//一行目表示（1文字ずつ増える）
                        ctx.fillText(serihu.text.slice(0+28*serihu.OK,serihu.hyouji_i), 15, 138);
                    }else{//一行目をいっぱい表示した
                        ctx.fillText(serihu.text.slice(0+28*serihu.OK,14+28*serihu.OK), 15, 138);
                    }
                    if(serihu.hyouji_i<28+28*serihu.OK){//二行目表示（1文字ずつ増える）
                        ctx.fillText(serihu.text.slice(14+28*serihu.OK,serihu.hyouji_i), 15, 150);
                    }else{//二行目をいっぱい表示した
                        ctx.fillText(serihu.text.slice(14+28*serihu.OK,28+28*serihu.OK), 15, 150);
                }
                }
                

                if(serihu.hyouji_i<(serihu.OK+1)*28 || serihu.hyouji_i<serihu.text.length){//文字がウィンドウいっぱい表示されてない or セリフが全部表示されてない
                    serihu.hyouji_i=serihu.hyouji_i+1;//表示文字増やす
                }//OKボタン押したら+1して続きの文字を押す、というのがいい感じだよね。そう思うよ。俺は
            }
            function serihu_tuika(){
                if(deyu_x==pon_x && deyu_y==pon_y){
                    serihu[serihu.length]={text:"スライドグリッチという、話してても戦ってても動けるバグがあるみたいです。",hyouji_i:0,OK:0};
                }
                if(deyu_x==kanbansan_1_x && deyu_y==kanbansan_1_y){
                    serihu[serihu.length]={text:"〇ボタンかEnterで会話ができるぜ！",hyouji_i:0,OK:0};
                }
            }

            function battle_window(){
                ctx.fillStyle="rgb(200,0,255,0.1)";
                ctx.fillRect(10,19,150,100);
                ctx.fillStyle="#FFFFFF";
                ctx.fillRect(11,20,1,40);
                ctx.fillRect(59,20,1,40);
                ctx.fillRect(11,20,49,1);
                ctx.fillRect(11,60,49,1);
                ctx.fillText("たたかう", 20, 35);
                ctx.fillText("1/3 回復", 21, 55);

                ctx.fillRect(61,20,1,43);
                ctx.fillRect(158,20,1,98);
                ctx.fillRect(61,20,97,1);
                ctx.fillRect(11,117,148,1);
                ctx.fillRect(11,62,50,1);
                ctx.fillRect(11,62,1,56);
            }
            
            function battle_show(battle){
                ctx.fillText("▶", 14, 35+battle.cursor*20);
                if(battle.hyouji<2){
                    ctx.drawImage(battle.image[battle.hyouji],battle.x,80);
                }else if(battle.hyouji<100){
                    ctx.drawImage(battle.image[0],battle.x,80+0.1*(battle.hyouji*battle.hyouji-50*battle.hyouji+98));
                    ctx.drawImage(DEATH,battle.x,80);
                    battle.hyouji=battle.hyouji+1;
                }else{
                    //死、完了！
                }
                if(battle.damaging>0){
                    battle.damaging=battle.damaging+1;
                    ctx.drawImage(damage,battle.x,80);
                    if(battle.damaging==10){
                        battle.damaging=0;
                    }
                }
                
                ctx.fillStyle="rgb(255,0,0)";
                ctx.fillRect(battle.x,74,32,5);
                ctx.fillStyle="rgb(0,255,0)";
                ctx.fillRect(battle.x,74,Math.floor(32*battle.HP/battle.HP_MAX),5);
            }
            function teki_tuika(){
                if(deyu_x==zakozakosan_x && deyu_y==zakozakosan_y){
                    battle[battle.length]={image:[zakozakosan_0,zakozakosan_1],HP_MAX:3,HP:3,Attack:1,x:Math.floor(Math.random()*(115)+12),hyouji:0,cursor:0,EXP:1,damaging:0};
                }
            }
        </script>
    </head>
    <body>
        <div id="top"></div>
        <header id="header">
            <button onclick="html_link_btn()" id="html_link_btn"></button>
            <nav id="html_link_nav">
                <ul id="html_link_ul"></ul>
            </nav>
            <a href="../index.html">
                <img id="go_home" src="../images/site/omotyabako_deka.png" alt="トップページへ height="1px"><!--ここで高さを入れておかないと、クソでかい画像が一瞬読み込まれてボタンの大きさが暴走する-->
            </a>
            <h1 id="title_h1">
                JUN汁ｗおもちゃばこ。
            </h1>
        </header>

        <div id="mannaka">
            <h2>すらいどぐりっちしゅうくんRPG</h2>
            <p>
                キーボード    移動:WASD,↑←→↓    〇:Enter, ×:Shift
            </p> 
            <div id="parent_div">
                <canvas id="cnvs" height="170px" width="170px"><!--styleのheigthは見た目の大きさを変えているにすぎない。表示領域はcssじゃない。-->
                </canvas>
            </div>
            <div id="buttons">
                <div id="button_left">
                    <div>
                        <input type="button" class="key_button" value="↑">
                    </div>
                    <div>
                        <input type="button" class="key_button" value="←">
                        <input type="button" class="key_button" value="→">
                    </div>
                    <div>
                        <input type="button" class="key_button" value="↓">
                    </div>
                    
                </div>
                <div id="button_right">
                    <input type="button" class="key_button" value="〇">
                    <input type="button" class="key_button" value="×">
                </div>
            </div>
             
            <p>
                ⚠製作途中です！⚠
            </p>
            <footer>
                <ul id="footul">
                    <li id="foot_tweet_li">
                        <a href="" id="foot_tweet_a"><!--onload_functions()でhrefを書き込んでるで！-->
                            <img src="../images/site/twitterbutton.gif" alt="ツイートボタン" id="tweet_img">
                        </a>
                    </li>
                    <li>
                        <a href="#top" id="totop"> 
                            ページ上部に移動
                        </a>
                    </li>
                </ul>
            </footer>
        </div>
    </body>
</html>
